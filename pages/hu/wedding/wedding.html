<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courgette">
	<link rel="icon" href="C:/programming/rust/webserver/pages/assets/wedding/favicon.gif" type="image/gif">
	<!-- make the icon animated -->
	<meta charset="UTF-8">
	<title>Boldi √©s Niki esk√ºv≈ëje</title>
</head>
<body>
	<header>
		<nav>
			<button onclick="window.screenY = 0">Kezd≈ëlap</button>
			<a href="#about">R√≥lunk</a>
			<a href="#place&time">Helysz√≠n √©s id≈ëpont</a>
			<a href="#accommodations">Sz√°ll√°s</a>
			<a href="#events">Esem√©nyek</a>
			<a href="#rsvp">Foglal√°s</a>
			<a href="#faq">Gyakori k√©rd√©sek</a>
		</nav>
	</header>
	
	<section id="title" style="
		background-image: url('D:/OneDrive - Szegedi Tudom√°nyegyetem/nikinek/fot√≥k/inbound6366005334592781563.jpg');
		background-repeat: no-repeat;
		background-size: auto 100%;
		background-position: 50%;
		display: flex;
		flex-direction: column;
	">
		<div style="flex-grow: 5;"></div>
		<div style="
			display: flex;
			align-items: center;
			justify-content: center;
			flex-grow: 2;
		">
			<div style="
				background-color: rgba(255, 255, 255, 0.6);
				border-radius: 10px;
				padding: 20px;
			">
				<h1 style="
					font-weight: 300;
					margin: 0;
				">Boldi √©s Niki esk√ºv≈ëje</h1>
			</div>
		</div>
		<div style="flex-grow: 3;"></div>
	</section>
	
	<section id="about" style="
		display: flex;
		flex-direction: column;
		background-color: rgb(72, 195, 136);"
	>
		<div style="flex-grow: 1;"></div>
		<div style="
			flex-grow: 1;
		">
			<h2>R√≥lunk</h2>
			<p>John and Jane met at a mutual friend's party and have been inseparable ever since. They share a love of travel, good food, and spending time with family and friends.</p>
			<p>Their wedding will be a celebration of their love and commitment to each other, surrounded by their loved ones.</p>
		</div>
	</section>

	<section id="events" style="background-color: brown;">
		<h2>Events</h2>
		<p>Please join us for the following events:</p>
		<ul>
			<!-- todo fix number formatting-->
			<li><strong>14:00</strong> Templomi szertart√°s</li>
			<li><strong>16:30</strong> Szertart√°s a Bor√≥ka t√°borban</li>
			<li><strong>17:30</strong> Vacsora</li>
			<li><strong>19:00</strong> Nyit√≥t√°nc</li>
			<li><strong>23:00</strong> Menyecske t√°nc</li>
			<li><strong>00:00</strong> √âjf√©li men√º</li>
			<li>Buli √âjf√©lig</li>
		</ul>
	</section>

	<section id="rsvp" style="background-color: rgb(72, 195, 195);">
		<h2>RSVP</h2>
		<form>
			<label for="name">Name:</label>
			<input type="text" id="name" name="name" required>

			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required>

			<label for="attend">Will you be attending?</label>
			<select id="attend" name="attend" required>
				<option value="">Select one</option>
				<option value="yes">Yes, I'll be there!</option>
				<option value="no">Sorry, I can't make it</option>
			</select>

			<label for="guests">Number of Guests:</label>
			<input type="number" id="guests" name="guests" min="1" max="10">

			<button class="btn" type="submit">Submit</button>
		</form>

		<footer>
			<h2>Kapcsolat</h2>
			<p>Ha k√©rd√©sed van, vagy van √∂tleted, hogyan lehetne jobb ez az oldal, akkor √≠rj nek√ºnk egy 
			<a href="mailto:nemeth.boldizsar0@gmail.com?subject=Niki%20√©s%20Boldi%20Esk√ºv≈ëje%20-%20√∂tlet/k√©rd√©s/hiba%20bejelent√©s">
			e-mailt</a>!
			</p>
			<p>&copy; 2023 Boldi √©s Niki Esk√ºv≈ëje. All rights reserved.</p>
		</footer>
	</section>
</body>
</html>

<script>
window.onload = function() {
	if (window.innerWidth / window.innerHeight > 11 / 9) {
		document.body.classList.add('big');
	} else {
		document.body.classList.add('small');
	}
}

const form = document.querySelector('form');
form.addEventListener('submit', e => {
	console.log('Form submitted!');
	e.preventDefault(); // Prevent form from submitting
	// Get form data
	const form = new FormData();
	form.append('name', document.getElementById('name').value);
	form.append('email', document.getElementById('email').value);
	form.append('attending', document.getElementById('attend').value);
	form.append('guests', document.getElementById('guests').value);
	// Send form data to server
	fetch('http://localhost:7878/wedding/form', {
		method: 'POST',
		body: form
	})
	.then(response => {
		if (response.ok) {
			alert('Thank you for your RSVP!');
		} else {
			alert('Oops! Something went wrong.');
		}
	})
	.catch(error => {
		alert('Oops! Something went wrong.');
		console.error(error);
	});
});

const positions = [];
const sections = document.querySelectorAll('section');
let sectionHeight = window.innerHeight;

function getPositions() {
	sectionHeight = window.innerHeight;
	positions.length = 0;
	for (let i = 0; i < sections.length; i++) {
		positions.push(i * sectionHeight);
	}
}

getPositions();
window.addEventListener('resize', getPositions);
window.addEventListener('orientationchange', getPositions);

let lastDeltaY = 0;
window.addEventListener('wheel', function(e) {
	console.log(e.deltaY);
    let currentSectionIndex = Math.round(window.scrollY / sectionHeight);
	// check if the user scrolled with a mouse wheel
    if ((e.deltaY % 125 === 0 && lastDeltaY % 125 === 0) ||
		(e.deltaY % 20 === 0 && lastDeltaY % 20 === 0)) {
        e.preventDefault();
        if (e.deltaY > 0) {
            // Scrolling down
            if (currentSectionIndex < sections.length - 1) {
                window.scrollTo({ top: positions[currentSectionIndex + 1], behavior: 'smooth' });
            }
        } else {
            // Scrolling up
            if (currentSectionIndex > 0) {
                window.scrollTo({ top: positions[currentSectionIndex - 1], behavior: 'smooth' });
            }
        }
    }
    lastDeltaY = e.deltaY;
}, { passive: false });

let startY;
window.addEventListener('touchstart', function(e) {
	startY = e.touches[0].pageY;
}, false);

window.addEventListener('touchmove', function(e) {
	e.preventDefault();
	let currentSectionIndex = Math.round(window.scrollY / sectionHeight);
	if (e.touches[0].pageY > startY) {
		// Scrolling up
		if (currentSectionIndex > 0) {
			window.scrollTo({ top: positions[currentSectionIndex - 1], behavior: 'smooth' });
		}
	} else {
		// Scrolling down
		if (currentSectionIndex < sections.length - 1) {
			window.scrollTo({ top: positions[currentSectionIndex + 1], behavior: 'smooth' });
		}
	}
}, { passive: false });
</script>

<style>
/* Hide scrollbar for Chrome, Safari and Opera */
html::-webkit-scrollbar {
    display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
html {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

body {
	font-family: "Courgette", sans-serif;
	color: #333;
	margin: 0px;
	padding: 0;
	overflow-x: hidden;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

header {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	background-color: rgba(255, 255, 255, 0.6); /* 10% opacity */
	z-index: 1;
}

nav {
	text-align: center;
	a {
		display: inline-block;
		margin-right: 20px;
	}
}

section {
	height: 100vh;
	margin: 0;
	padding: 0;
}

h1, h2 {
	text-align: center;
	margin-block-start: 0;
	margin-block-end: 0;
}

h1 {
	font-size: 48px;
	margin-bottom: 20px;
}

h2 {
	font-size: 36px;
	margin-bottom: 10px;
}

p {
	line-height: 1.5;
	margin-bottom: 20px;
}

form {
	> div {
		display: flex;
		justify-content: space-between;
		margin-bottom: 10px;
	}
	> button {
		margin: 20px auto;
		align-self: center;
	}
}

.btn {
	display: inline-block;
	padding: 10px 20px;
	background-color: #333;
	color: #fff;
	text-decoration: none;
	border-radius: 5px;
	transition: background-color 0.3s ease;
}

.btn:hover {
	background-color: #555;
}

li {
	list-style-type: 'üëâ';
	padding-inline-start: 2px;
}

img {
	width: auto;
	height: 100%;
}

footer {
	text-align: center;
}
</style>